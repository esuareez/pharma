@model Pharma.Models.Proveedor
@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/layoutAdmin.cshtml";
}

<head>
        
        <style>
            .profile {
                text-align: center;
                margin-bottom: 25px;
            }
            .avatar {
                position: relative;
            }
            .avatar input[type=file] {
            display: none;
        }
        
        .avatar-selector {
            background-color: black;
            color: white;
            border-radius: 50%;
            padding-top: 0.525em;
            cursor: pointer;
            position: absolute;
            left: 80%;
            bottom: 0.5em;
            width: 40px;
            height: 40px;
            text-align: center;
        }
        
        .profile {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .profile .img {
            border-radius: 2%;
            width: 250px;
            height: 250px;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            margin: 0 auto;
        }
        </style>
    
    
       
    </head>

<div id="main-content container-fluid">
                <div class="page-heading">
                    <div class="page-title">
                        <div class="row">
                            <div class="col-12 col-md-6 order-md-1 order-last">
                                <h3>Nuevo proveedor</h3>
                                
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-12 col-md-12">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title">Datos del proveedor</h5>
                            </div>
                            <div class="card-content">
                                <div class="card-body">
                                   <form class="form form-center" method="post" asp-action="Edit" enctype="multipart/form-data">
                                    <input type="hidden" asp-for="IdProveedor" />
                                       <br>
                                        <div class="center">
                                            <div class="profile">
                                                <div class="avatar">
                                                    <input id="file-uploader" type="file"  asp-for="Img" name="Image" >
                                                    <div class="img"
                                                        style="background-image:url('data:image/jpeg;base64,@Convert.ToBase64String(@Model.Img)')">
                                                    </div>
                                                    <label class="avatar-selector" for="file-uploader"><i class="fa-solid fa-arrow-up-from-bracket"></i></label>
                                                    
                                                </div>
                                            </div>
                                        </div>   

                                    <div class="card-body">
                                        <div class="form-body ">
                                            <div class="row ">
                                                <div class="col-md-4 ">
                                                    <label>Nombre</label>
                                                </div>
                                                <div class="col-md-8 form-group">
                                                    <input type="text" id="first-name" class="form-control"
                                                        name="Nombre" asp-for="Nombre" placeholder="Bayer">
                                                </div>

                                                <div class="col-md-4">
                                                    <label>Telefono</label>
                                                </div>
                                                <div class="col-md-8 form-group">
                                                    <input type="tel" id="contact-info" class="form-control"
                                                        name="Telefono" asp-for="Telefono"  placeholder="8090000000">
                                                </div>

                                                <div class="col-md-4">
                                                    <label>Correo</label>
                                                </div>
                                                <div class="col-md-8 form-group">
                                                    <input type="email" id="contact-info" class="form-control"
                                                        name="Correo" asp-for="Correo" placeholder="bayer@bayer.com">
                                                </div>

                                                <div class="col-md-4">
                                                    <label>Direccion</label>
                                                </div>
                                                <div class="col-md-8 form-group">
                                                    <input type="text" id="contact-info" class="form-control"
                                                        name="Direccion" asp-for="Direccion" placeholder="Calle calle, Santiago de los Caballeros.">
                                                </div>

                                                <div class="col-sm-12 d-flex justify-content-end">
                                                    <button type="submit"
                                                        class="btn btn-primary me-1 mb-1">Guardar cambios</button>
                                                    <button type="reset"
                                                        class="btn btn-light-secondary me-1 mb-1">Reiniciar</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                                </div>
                            </div>

                        </div>
                        
                    </div>
                </div>
                
    
    
            </div>


    <script id="rendered-js">
    (() => {
        document.querySelector("#file-uploader").addEventListener("change", e => {
            const image = e.target.files[0];
            const imageURL = URL.createObjectURL(image);
            document.querySelector(".profile .img").
            style.backgroundImage = ` url("${imageURL}")`;
        });
    })();
    </script>
